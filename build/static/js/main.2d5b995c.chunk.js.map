{"version":3,"sources":["Person.js","Persons.js","PersonForm.js","Filter.js","Notification.js","services/persons.js","App.js","index.js"],"names":["Person","_ref","name","number","deletePerson","react_default","a","createElement","onClick","Persons","persons","filter","person","toLowerCase","indexOf","map","src_Person","key","id","PersonForm","addName","handleNameChange","handleNumberChange","newName","newNumber","onSubmit","onChange","value","type","Filter","handleFilterChange","newFilter","Notification","message","errorStyle","color","success","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","baseUrl","services_persons","axios","get","then","response","data","newObject","post","put","concat","delete","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setNewFilter","_useState9","_useState10","setMessage","_useState11","_useState12","setSuccess","useEffect","personService","updateNotification","newMessage","isSuccess","setTimeout","src_Notification","src_Filter","event","target","src_PersonForm","preventDefault","includes","window","confirm","personToUpdate","find","objectSpread","updatedPerson","catch","error","newPerson","src_Persons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.2d5b995c.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({name, number, deletePerson}) => (\n  <div>\n    {name} {number} <button onClick={deletePerson}>Delete</button>\n  </div>\n)\n\nexport default Person","import React from 'react'\n\nimport Person from './Person'\n\nconst Persons = ({persons, filter, deletePerson}) => {\n  const loadPersons = () => persons\n    .filter((person) => person.name.toLowerCase().indexOf(filter.toLowerCase()) !== -1 || person.number.toLowerCase().indexOf(filter.toLowerCase()) !== -1)\n    .map((person) => <Person key={person.id} name={person.name} number={person.number} deletePerson={() => deletePerson(person.id, person.name)} />)\n\n  return (\n    <div>\n      {loadPersons()}\n    </div>\n  )\n}\n\nexport default Persons","import React from 'react'\n\nconst PersonForm = ({addName, handleNameChange, handleNumberChange, newName, newNumber}) => (\n  <div>\n    <form onSubmit={addName}>\n      <div>\n        name: <input onChange={handleNameChange} value={newName} />\n      </div>\n      <div>\n        number: <input onChange={handleNumberChange} value={newNumber} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  </div>\n)\n\nexport default PersonForm","import React from 'react'\n\nconst Filter = ({handleFilterChange, newFilter}) => (\n  <div>\n    Filter shown with <input onChange={handleFilterChange} value={newFilter} />\n  </div>\n)\n\nexport default Filter","import React from 'react'\n\nconst Notification = ({ message, success }) => {\n  const errorStyle = {\n    color: success ? 'green' : 'red',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10,\n  }\n\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div style={errorStyle}>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst deleteObject = id => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, deleteObject }","import React, { useState, useEffect } from 'react'\n\nimport Persons from './Persons'\nimport PersonForm from './PersonForm'\nimport Filter from './Filter'\nimport Notification from './Notification'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ message, setMessage ] = useState(null)\n  const [ success, setSuccess ] = useState(true)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(persons => {\n        setPersons(persons)\n      })\n\n  }, [])\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value)\n  }\n\n  const updateNotification = (newMessage, isSuccess) => {\n    setMessage(newMessage)\n    setSuccess(isSuccess)\n    setTimeout(() => {\n      setMessage(null)\n    }, 5000)\n  }\n\n  const addName = (event) => {\n    event.preventDefault()\n    \n    if (persons.map(person => person.name.toLowerCase()).includes(newName.toLowerCase())) {\n\n      if (window.confirm(`${newName} is already added to the phonebook, would you like to replace the old number with a new one?`)) {\n        const personToUpdate = persons.find(person => person.name.toLowerCase() === newName.toLowerCase())\n\n        personService\n          .update(personToUpdate.id, {...personToUpdate, number: newNumber})\n          .then(updatedPerson => {\n            setPersons(persons.map(person => person.id !== updatedPerson.id ? person : updatedPerson))\n            setNewName('')\n            setNewNumber('')\n            updateNotification(`Updated ${updatedPerson.name}`, true)\n          })\n          .catch(error => {\n            updateNotification(`Information of ${newName} has already been removed from the server.`, false)\n            setPersons(persons.filter(person => person.name.toLowerCase() !== newName.toLowerCase()))\n          })\n      }\n    } else {\n      personService\n        .create({name: newName, number: newNumber})\n        .then(newPerson => {\n          setPersons(persons.concat(newPerson))\n          setNewName('')\n          setNewNumber('')\n          updateNotification(`Added ${newPerson.name}`, true)\n        })\n    }\n  }\n\n  const deletePerson = (id, name) => {\n    if (window.confirm(`Delete ${name}?`)) {\n      personService\n        .deleteObject(id)\n        .then(response => {\n          setPersons(persons.filter(person => person.id !== id))\n          updateNotification(`Deleted ${name}`, true)\n        })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} success={success} />\n      <Filter handleFilterChange={handleFilterChange} newFilter={newFilter} />\n      <h3>Add a New</h3>\n      <PersonForm\n        addName={addName}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        newName={newName}\n        newNumber={newNumber}\n      />\n      <h3>Numbers</h3>\n      <Persons persons={persons} filter={newFilter} deletePerson={deletePerson} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}